<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="./packages/core/src/index.ts" type="module"></script>
    <script>
      console.log('hello world');
      init({
        dsn: 'http://localhost:8080/reportData',
        apiKey: 'test',
        silentWhiteScreen: true,
        skeletonProject: true,
        repeatCodeError: true,
        userId: 'lz',
        handleHttpStatus(data) {
          console.log('data', data);
          let { url, response } = data;
          // code为200，接口正常，反之亦然
          let { code } = typeof response === 'string' ? JSON.parse(response) : response;
          if (url.includes('/getErrorList')) {
            return code === 200 ? true : false;
          } else {
            return true;
          }
        }
      });

      const a = 1;
      a = 123;
    </script>
  </body>
</html>
